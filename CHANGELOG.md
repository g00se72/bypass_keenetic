# 3.3.8 - 4 Апреля 2025
## Что изменено
- Изменен принцип отслеживания версионности бота
- Другие незначительные изменения


# 3.3.7 - 3 Апреля 2025
## Что нового
- Улучшена обработка дисков для бекапа (SWAP исключается, если label незадан используется manufacturer)

## Что изменено
- Другие незначительные изменения


# 3.3.6 - 1 Апреля 2025
## Что нового
- Добавлено в меню подтверждение удаление архива после бекапа с диска

## Что изменено
- Другие незначительные изменения


# 3.3.5 - 28 Марта 2025
## Что нового
- Добавлен прогресс при создании архива

## Что изменено
- Построчный вывод прогресса процессов Обновления, Установки, Удаления и Бекапа изменен на редактирование последнего сообщения


# 3.3.4 - 27 Марта 2025
## Что нового
- Добавлен сервис xray (vless)
- Добавлен парсинг конфига vless из ссылки
- Добавлена проверка введенных ключей и мостов на корректность через re
- Добавлена возможность создания бекапа Стартового кофига / Прошивки / Entware / Выборочных файлов и папок. Бэкапы присылаются в чат, настройки в bot_config.py.
  За основу взят и переработан скрипт [KeenSnap](https://github.com/spatiumstas/KeenSnap "https://github.com/spatiumstas/KeenSnap")
- Добавлена возможность при создании бекапа выбрать любые комбинации чекбоксами для архивирования
- Добавлено меню выбора диска для размещения архива
- Добавлен скрипт S22telegram_bot для управления с ключами start / stop / restart / status, в т.ч. поверка на повтроный запуск
- Ограничено количество попыток запусков бота, добавлен таймаут
- Добавлены проверки (например, проверка токена, наличия конфигурационного файла bot_config.py)
- Добавлено логирование работы бота
- Добавлена автоочистка логов error.log, backup.log
- Добавлена возможность перезагрузки бота из сервесного меню
- Добавлена обработка перезапуса бота. Теперь бот пришлет сообщение об удачном перезапуске в чат
- Inline клавиатура для "Установка и удаление"
- Inline клавиатура для "DNS Override", "Бекап"

## Что изменено
- Полностью переработана структура бота. Бот теперь имеет следующую структуру: main.py, menu.py, handlers.py, utils.py
- Полностью переработан script.sh.
  Захардкоженые в script.sh пути, URL-ы вынесены в bot_config.py.
  Опция -var для script.sh для проверки чтения и вывода в консоль всех переменных
- Использование os.system() заменено на subprocess.run()
- Subprocess.run() вызывается без параметра shell=True
- Изменена логика вывода сообщений в чат во время Установки/Удаления/Обновления
- Изменена логика обработки ключей/мостов. Конфигурации теперь создаются на основе темплейтов /opt/etc/bot/templates/*
- Изменены иконки
- Изменения в логике работы бота
- Другие изменения

## Что удалено
- Удалена кнопка "Информация"
- Удалена кнопка "Где брать ключи?"
- Удалена кнопка "Добавить обход блокировок соцсетей"
- Удалена возможность работы с другими репозиториями
- Удален сервис v2ray (vmess)
- Удалено полуение мостов Tor через telegram из-за необходимости проходить авторизацию в личный аккаунт, получение сообщений ботом от бота невозможно по правилам telegram
